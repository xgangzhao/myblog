---
title: 结构体对齐策略
date: 2025-12-10 21:52:22
tags: [C++, C]
---

## 为什么对齐？
- 不对齐访问会变慢（某些架构会报错）
- 提高总线效率（一次取数据满足更多字节）

## 对齐（pack）规则
- 成员偏移必须是其对齐值的整数倍；否则编译器插入 Padding
- 结构体总大小必须是其“最大成员对齐值”的整数倍；否则末尾插入 Tail Padding
- 位域（bit-field）按“底层类型”对齐，不能跨越底层单元边界
